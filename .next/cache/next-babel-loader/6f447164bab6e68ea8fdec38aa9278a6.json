{"ast":null,"code":"import { select, put, takeEvery } from \"redux-saga/effects\";\nimport { getCurrentCategory } from \"../Categories/selector\";\nimport { changeLoadingState, failure, loadNewsSuccess } from \"./actions\";\nimport { actionTypes } from \"../../constants/actionTypes\";\nimport * as requests from \"../helpers/axiosRequests\";\n\nfunction* loadNewsSaga() {\n  const currentCategory = yield select(state => getCurrentCategory(state));\n\n  try {\n    const {\n      articles\n    } = yield requests.getDBRequest(currentCategory);\n    yield put(loadNewsSuccess(articles));\n  } catch (err) {\n    yield put(failure(err));\n  } finally {\n    yield put(changeLoadingState(false));\n  }\n}\n\nfunction* newsWatcher() {\n  yield takeEvery(actionTypes.LOAD_NEWS, loadNewsSaga);\n}\n\nexport default newsWatcher;","map":{"version":3,"sources":["/home/natalia/Documents/projects/news_project/src/redux/News/saga.js"],"names":["select","put","takeEvery","getCurrentCategory","changeLoadingState","failure","loadNewsSuccess","actionTypes","requests","loadNewsSaga","currentCategory","state","articles","getDBRequest","err","newsWatcher","LOAD_NEWS"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,GAAjB,EAAsBC,SAAtB,QAAuC,oBAAvC;AACA,SAASC,kBAAT,QAAmC,wBAAnC;AACA,SAASC,kBAAT,EAA6BC,OAA7B,EAAsCC,eAAtC,QAA6D,WAA7D;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,OAAO,KAAKC,QAAZ,MAA0B,0BAA1B;;AAEA,UAAUC,YAAV,GAAyB;AACrB,QAAMC,eAAe,GAAG,MAAMV,MAAM,CAACW,KAAK,IAAIR,kBAAkB,CAACQ,KAAD,CAA5B,CAApC;;AACA,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAe,MAAMJ,QAAQ,CAACK,YAAT,CAAsBH,eAAtB,CAA3B;AACA,UAAMT,GAAG,CAACK,eAAe,CAACM,QAAD,CAAhB,CAAT;AACH,GAHD,CAGE,OAAOE,GAAP,EAAY;AACV,UAAMb,GAAG,CAACI,OAAO,CAACS,GAAD,CAAR,CAAT;AACH,GALD,SAKU;AACN,UAAMb,GAAG,CAACG,kBAAkB,CAAC,KAAD,CAAnB,CAAT;AACH;AACJ;;AAED,UAAUW,WAAV,GAAwB;AACpB,QAAMb,SAAS,CAACK,WAAW,CAACS,SAAb,EAAwBP,YAAxB,CAAf;AACH;;AAED,eAAeM,WAAf","sourcesContent":["import { select, put, takeEvery } from \"redux-saga/effects\";\nimport { getCurrentCategory } from \"../Categories/selector\";\nimport { changeLoadingState, failure, loadNewsSuccess } from \"./actions\";\nimport { actionTypes } from \"../../constants/actionTypes\";\nimport * as requests from \"../helpers/axiosRequests\";\n\nfunction* loadNewsSaga() {\n    const currentCategory = yield select(state => getCurrentCategory(state));\n    try {\n        const { articles } = yield requests.getDBRequest(currentCategory);\n        yield put(loadNewsSuccess(articles));\n    } catch (err) {\n        yield put(failure(err));\n    } finally {\n        yield put(changeLoadingState(false));\n    }\n}\n\nfunction* newsWatcher() {\n    yield takeEvery(actionTypes.LOAD_NEWS, loadNewsSaga);\n}\n\nexport default newsWatcher;"]},"metadata":{},"sourceType":"module"}